{"version":3,"sources":["services/phone.js","components/Filter.js","components/Header.js","components/PersonForm.js","components/Person.js","components/Persons.js","components/Notification.js","App.js","index.js"],"names":["baseUrl","exportObject","getAll","axios","get","then","response","data","create","newObject","post","update","id","object","put","remove","delete","Filter","searchText","searchHandler","value","onChange","Header","title","displayType","className","PersonForm","onSubmit","newName","nameHandler","newNumber","numberHandler","type","Person","person","deleteHandler","name","number","onClick","Persons","persons","map","Notification","message","messageType","App","useState","setNewName","setNewNumber","setSearchText","setPersons","setMessage","setMessageType","useEffect","phoneService","checkDuplicateName","find","p","toLowerCase","clearForm","updatePhoneBook","updateObj","window","confirm","updatedPhone","setNotification","catch","error","notification","notificationType","setTimeout","filteredPersons","filter","includes","e","target","preventDefault","newPerson","trim","createdPerson","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.3aab1f3b.chunk.js","sourcesContent":["import axios from 'axios'\n\nconst baseUrl = '/api/persons'\n\nconst getAll = () => axios.get(baseUrl).then((response) => response.data)\n\nconst create = (newObject) =>\n  axios.post(baseUrl, newObject).then((response) => response.data)\n\nconst update = (id, object) =>\n  axios.put(`${baseUrl}/${id}`, object).then((response) => response.data)\n\nconst remove = (id) => axios.delete(`${baseUrl}/${id}`)\n\nconst exportObject = { getAll, create, update, remove }\n\nexport default exportObject\n","import React from 'react'\n\nconst Filter = ({ searchText, searchHandler }) => {\n  return (\n    <div>\n      filter shown with <input value={searchText} onChange={searchHandler} />\n    </div>\n  )\n}\n\nexport default Filter\n","import React from 'react'\n\nconst Header = ({ title, displayType }) => {\n  return <div className={displayType}>{title}</div>\n}\n\nexport default Header\n","import React from 'react'\n\nconst PersonForm = ({\n  onSubmit,\n  newName,\n  nameHandler,\n  newNumber,\n  numberHandler,\n}) => {\n  return (\n    <form onSubmit={onSubmit}>\n      <div>\n        Name: <input value={newName} onChange={nameHandler} />\n      </div>\n      <div>\n        Number: <input value={newNumber} onChange={numberHandler} />\n      </div>\n      <div>\n        <button type='submit'>Add</button>\n      </div>\n    </form>\n  )\n}\n\nexport default PersonForm\n","import React from 'react'\n\nconst Person = ({ person, deleteHandler }) => {\n  return (\n    <div>\n      {person.name} {person.number}&nbsp;\n      <button onClick={deleteHandler(person.id)}>Delete</button>\n    </div>\n  )\n}\n\nexport default Person\n","import React from 'react'\nimport Person from './Person'\n\nconst Persons = ({ persons, deleteHandler }) => {\n  return (\n    <div>\n      {persons.map((person) => (\n        <Person key={person.id} person={person} deleteHandler={deleteHandler} />\n      ))}\n    </div>\n  )\n}\n\nexport default Persons\n","import React from 'react'\n\nconst Notification = ({ message, messageType }) => {\n  if (message === '') return null\n\n  return <div className={`notification ${messageType}`}>{message}</div>\n}\n\nexport default Notification\n","import React, { useEffect, useState } from 'react'\nimport phoneService from './services/phone'\nimport Filter from './components/Filter'\nimport Header from './components/Header'\nimport PersonForm from './components/PersonForm'\nimport Persons from './components/Persons'\nimport './app.css'\nimport Notification from './components/Notification'\n\nconst App = () => {\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [searchText, setSearchText] = useState('')\n  const [persons, setPersons] = useState([])\n  const [message, setMessage] = useState('')\n  const [messageType, setMessageType] = useState('')\n\n  useEffect(() => {\n    phoneService.getAll().then((persons) => setPersons(() => persons))\n  }, [])\n\n  const submitHandler = (e) => {\n    e.preventDefault()\n\n    const newPerson = {\n      name: newName,\n      number: newNumber,\n    }\n\n    if (newName.trim() === '' || newNumber.trim() === '') {\n      setNotification('Add both name and number', 'error')\n      clearForm()\n      return\n    }\n\n    if (checkDuplicateName()) {\n      updatePhoneBook(checkDuplicateName().id, newPerson)\n      return\n    }\n\n    phoneService\n      .create(newPerson)\n      .then((createdPerson) => {\n        setPersons(() => [...persons, createdPerson])\n        setNotification(`Added ${createdPerson.name}`, 'success')\n        clearForm()\n      })\n      .catch((error) => {\n        setNotification(error.response.data.error, 'error')\n      })\n  }\n\n  const checkDuplicateName = () =>\n    persons.find((p) => p.name.toLowerCase() === newName.toLowerCase())\n  const nameHandler = (e) => setNewName(() => e.target.value)\n  const numberHandler = (e) => setNewNumber(() => e.target.value)\n  const searchHandler = (e) => setSearchText(() => e.target.value)\n  const clearForm = () => {\n    setNewName(() => '')\n    setNewNumber(() => '')\n  }\n\n  const deleteHandler = (id) => () => {\n    const name = persons.find((p) => p.id === id)?.name\n    const confirmDelete = window.confirm(`Delete ${name} ?`)\n\n    if (confirmDelete) {\n      phoneService\n        .remove(id)\n        .then(() => {\n          setPersons(() => persons.filter((p) => p.id !== id))\n          setNotification(`Deleted ${name}`, 'success')\n        })\n        .catch((error) => {\n          setNotification(\n            `Information of ${name} has already been removed from server`,\n            'error'\n          )\n        })\n    }\n  }\n\n  const updatePhoneBook = (id, updateObj) => {\n    const confirmUpdate = window.confirm(\n      `${newName} is already added to phonebook, replace the old number with a new one?`\n    )\n\n    if (confirmUpdate) {\n      phoneService\n        .update(id, updateObj)\n        .then((updatedPhone) => {\n          setPersons(() => persons.map((p) => (p.id === id ? updatedPhone : p)))\n          setNotification(`Updated ${updatedPhone.name}`, 'success')\n          clearForm()\n        })\n        .catch((error) => {\n          setNotification(error.response.data.error, 'error')\n        })\n    }\n  }\n\n  const setNotification = (notification, notificationType) => {\n    setMessage(() => notification)\n    setMessageType(() => notificationType)\n\n    setTimeout(() => {\n      setMessage(() => '')\n      setMessageType(() => '')\n    }, 10000)\n  }\n\n  const filteredPersons =\n    searchText === ''\n      ? persons\n      : persons.filter((p) =>\n          p.name.toLowerCase().includes(searchText.toLowerCase())\n        )\n\n  return (\n    <div>\n      <Header title='Phonebook' displayType='h2' />\n      <Notification message={message} messageType={messageType} />\n\n      <Filter searchText={searchText} searchHandler={searchHandler} />\n\n      <Header title='Add a new' displayType='h3' />\n      <PersonForm\n        onSubmit={submitHandler}\n        newName={newName}\n        nameHandler={nameHandler}\n        newNumber={newNumber}\n        numberHandler={numberHandler}\n      />\n\n      <Header title='Numbers' displayType='h3' />\n      <Persons persons={filteredPersons} deleteHandler={deleteHandler} />\n    </div>\n  )\n}\n\nexport default App\n","import ReactDOM from 'react-dom'\nimport App from './App'\n\nReactDOM.render(<App />, document.getElementById('root'))\n"],"sourceRoot":""}